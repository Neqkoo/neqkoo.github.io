<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Neqkoo Page</title>
<style>
  :root{--ink:#000;--bg:#fff;--ink2:#111}
  html,body{height:100%}
  body{
    margin:0;
    background:var(--bg);
    color:var(--ink);
    font-family: "Comic Sans MS","Marker Felt","Bradley Hand",cursive,system-ui,-apple-system,Segoe UI,Arial;
    overflow-x:hidden;
  }
  .wrap{
    min-height:100%;
    padding:24px 28px 80px 28px;
    position:relative;
  }
  .title{
    font-size: clamp(36px,6vw,80px);
    font-weight:900;
    letter-spacing:4px;
    transform:rotate(-2deg);
    display:inline-block;
    margin:0 0 10vh 0;
    position:relative;
  }
  .title::before,.title::after{
    content:"≪";
    position:absolute;
    top:-10px;
    font-size:clamp(28px,4.5vw,60px);
    transform:rotate(-10deg);
    left:-40px;
  }
  .title::after{
    content:"≫";
    right:-40px; left:auto; transform:rotate(10deg);
  }
  .subtitle{
    font-size:clamp(18px,2.5vw,28px);
    margin:0 0 14px 0;
  }
  .pad{
    border:8px solid var(--ink);
    border-radius:44px;
    padding:24px;
    width:min(90vw,850px);
    height:min(55vh,520px);
    background:#fafafa;
    box-shadow:3px 3px 0 var(--ink), 6px 6px 0 var(--ink2);
    position:relative;
  }
  #tools{
    display:flex;
    flex-wrap:wrap;
    align-content:flex-start;
    gap:14px;
    height:100%;
    overflow:auto;
  }
  .chip{
    border:4px solid var(--ink);
    border-radius:999px;
    padding:10px 18px;
    background:#fff;
    font-size:18px;
    cursor:pointer;
    transform:rotate(-1deg);
    transition:transform .05s ease;
    text-transform:capitalize;
  }
  .chip:active{transform:scale(.98) rotate(-2deg)}
  .empty{
    font-size:clamp(20px,3vw,28px);
    opacity:.8;
    align-self:center;
    margin:auto;
  }
  .panic{
    position:fixed;
    right:20px;
    bottom:20px;
    border:6px solid var(--ink);
    border-radius:999px;
    background:#fff;
    padding:12px 18px;
    font-size:clamp(16px,2.2vw,22px);
    cursor:pointer;
    box-shadow:3px 3px 0 var(--ink);
    transform:rotate(2deg);
  }
  .only-image{
    inset:0;
    position:fixed;
    background:#000;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .only-image img{
    max-width:100%;
    max-height:100%;
    object-fit:contain;
  }
</style>
</head>
<body>
  <div class="wrap" id="app">
    <h1 class="title">Neqkoo Page</h1>
    <div class="subtitle">what useless tool do you want to use</div>
    <div class="pad">
      <div id="tools"></div>
    </div>
    <button class="panic" id="dont">don't click this button</button>
  </div>

<script>
const tools = document.getElementById('tools');
function labelFromPath(href){
  try{
    const u = new URL(href, location.href);
    const file = decodeURIComponent(u.pathname.split('/').pop() || '');
    return file.replace(/\.html?$/i,'');
  }catch(e){ return href.replace(/\.html?$/i,''); }
}
function normalizedHref(href){
  try{
    const u = new URL(href, location.href);
    return u.pathname + (u.search||'') + (u.hash||'');
  }catch(e){ return href; }
}
async function listRootHtml(){
  let items = [];
  try{
    const res = await fetch('.', {headers:{'Accept':'text/html'}});
    const text = await res.text();
    const doc = new DOMParser().parseFromString(text,'text/html');
    const links = Array.from(doc.querySelectorAll('a[href]'));
    links.forEach(a=>{
      const href = a.getAttribute('href');
      if(!href) return;
      const isHtml = /\.html?(\?|#|$)/i.test(href);
      if(!isHtml) return;
      const name = labelFromPath(href);
      if(!name) return;
      const file = name.toLowerCase();
      if(file==='index') return;
      const url = normalizedHref(href);
      const last = url.split('/').pop();
      if(last && !/^\./.test(last)) items.push({name,label:name,url});
    });
    const set = new Map();
    items.forEach(it=>{
      const key = it.url.split('?')[0].split('#')[0];
      if(!set.has(key)) set.set(key,it);
    });
    items = Array.from(set.values());
  }catch(e){}
  return items;
}
function renderButtons(pages){
  tools.innerHTML = '';
  if(!pages.length){
    const p = document.createElement('div');
    p.className = 'empty';
    p.textContent = 'oh no, there is no pages';
    tools.appendChild(p);
    return;
  }
  pages.forEach(p=>{
    const b = document.createElement('button');
    b.className = 'chip';
    b.textContent = p.label;
    b.addEventListener('click',()=>{ location.href = p.url; });
    tools.appendChild(b);
  });
}
listRootHtml().then(renderButtons).catch(()=>renderButtons([]));

document.getElementById('dont').addEventListener('click',()=>{
  document.body.innerHTML = '';
  const layer = document.createElement('div');
  layer.className = 'only-image';
  const img = document.createElement('img');
  img.src = 'https://play-lh.googleusercontent.com/qBiLTYKuDA9aecK01rKoBYMp19lLOSq3xJvLkjTxlLCOJ_blR9ZPvBUblRaKFbDQ8P29';
  layer.appendChild(img);
  const audio = document.createElement('audio');
  audio.src = 'https://www.myinstants.com/media/sounds/slendy1.mp3';
  audio.loop = true;
  audio.autoplay = true;
  audio.style.display = 'none';
  layer.appendChild(audio);
  document.body.appendChild(layer);
  audio.play().catch(()=>{});
});
</script>
</body>
</html>
