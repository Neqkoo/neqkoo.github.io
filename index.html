<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Neqkoo Page</title>
<link href="https://fonts.googleapis.com/css2?family=Gloria+Hallelujah&display=swap" rel="stylesheet">
<style>
  :root{--ink:#000;--bg:#fff}
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:var(--bg);
    color:var(--ink);
    display:grid;
    place-items:center;
    font-family:"Gloria Hallelujah",cursive,system-ui,Arial;
  }
  .wrap{
    width:min(720px,92vw);
    text-align:center;
    transform:rotate(-0.7deg);
  }
  .title{
    position:relative;
    display:inline-block;
    margin:0 0 32px 0;
    font-size:clamp(34px,8vw,56px);
    letter-spacing:2px;
    text-shadow:2px 2px 0 #0001, -1px 1px 0 #0001;
    padding:18px 22px 10px;
  }
  .title .text{display:block; transform:rotate(-1deg)}
  .ear{
    position:absolute;
    top:-30px;
    width:0;height:0;
    border-left:18px solid transparent;
    border-right:18px solid transparent;
    border-bottom:34px solid #000;
    filter:drop-shadow(2px 2px 0 #0003);
  }
  .ear-left{left:-10px; transform:rotate(-12deg)}
  .ear-right{right:-10px; transform:rotate(12deg)}
  .whiskers{
    position:absolute;
    width:80px;height:46px;
    top:72%;
    background:
      linear-gradient(#000 0 0) left 6px top 0/70px 6px no-repeat,
      linear-gradient(#000 0 0) left 0 top 20px/70px 6px no-repeat,
      linear-gradient(#000 0 0) left 6px top 40px/70px 6px no-repeat;
    opacity:.95;
  }
  .whiskers-left{left:-86px; transform:rotate(-10deg)}
  .whiskers-right{right:-86px; transform:scaleX(-1) rotate(-10deg)}
  .subtitle{
    font-size:clamp(16px,2.6vw,22px);
    margin:0 0 12px 0;
  }
  .pad{
    margin:0 auto;
    border:8px solid var(--ink);
    border-radius:34px;
    width:min(640px,92vw);
    height:min(360px,56vh);
    background:#f7f7f7;
    box-shadow:4px 4px 0 var(--ink);
    padding:18px;
  }
  #tools{
    width:100%;
    height:100%;
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    align-content:flex-start;
    justify-content:center;
    overflow:auto;
  }
  .chip{
    border:5px solid var(--ink);
    border-radius:999px;
    padding:8px 14px;
    background:#fff;
    cursor:pointer;
    font-size:18px;
    transform:rotate(-1.5deg);
  }
  .chip:active{transform:scale(.97) rotate(-3deg)}
  .empty{
    margin:auto;
    font-size:20px;
    opacity:.8;
  }
  .panic{
    position:fixed;
    right:18px;
    bottom:18px;
    border:5px solid var(--ink);
    border-radius:999px;
    background:#fff;
    padding:6px 12px;
    font-size:14px;
    cursor:pointer;
    box-shadow:3px 3px 0 var(--ink);
    transform:rotate(5deg);
  }
  .only-image{
    inset:0;
    position:fixed;
    background:#000;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .only-image img{
    max-width:100%;
    max-height:100%;
    object-fit:contain;
    image-rendering:pixelated;
  }
</style>
</head>
<body>
  <div class="wrap" id="app">
    <h1 class="title">
      <span class="ear ear-left"></span>
      <span class="ear ear-right"></span>
      <span class="whiskers whiskers-left"></span>
      <span class="whiskers whiskers-right"></span>
      <span class="text">Neqkoo Page</span>
    </h1>
    <div class="subtitle">what useless tool do you want to use</div>
    <div class="pad">
      <div id="tools"></div>
    </div>
    <button class="panic" id="dont">don't click this button</button>
  </div>

<script>
const tools = document.getElementById('tools');
function labelFromPath(href){
  try{
    const u = new URL(href, location.href);
    const file = decodeURIComponent(u.pathname.split('/').pop() || '');
    return file.replace(/\.html?$/i,'');
  }catch(e){ return href.replace(/\.html?$/i,''); }
}
function normalizedHref(href){
  try{
    const u = new URL(href, location.href);
    return u.pathname + (u.search||'') + (u.hash||'');
  }catch(e){ return href; }
}
async function listRootHtml(){
  let items = [];
  try{
    const res = await fetch('.', {headers:{'Accept':'text/html'}});
    const text = await res.text();
    const doc = new DOMParser().parseFromString(text,'text/html');
    const links = Array.from(doc.querySelectorAll('a[href]'));
    links.forEach(a=>{
      const href = a.getAttribute('href');
      if(!href) return;
      const isHtml = /\.html?(\?|#|$)/i.test(href);
      if(!isHtml) return;
      const name = labelFromPath(href);
      if(!name) return;
      if(name.toLowerCase()==='index') return;
      const url = normalizedHref(href);
      const last = url.split('/').pop();
      if(last && !/^\./.test(last)) items.push({label:name,url});
    });
    const uniq = new Map();
    items.forEach(it=>{ const k = it.url.split(/[?#]/)[0]; if(!uniq.has(k)) uniq.set(k,it); });
    items = Array.from(uniq.values());
  }catch(e){}
  return items;
}
function renderButtons(pages){
  tools.innerHTML = '';
  if(!pages.length){
    const p = document.createElement('div');
    p.className = 'empty';
    p.textContent = 'oh no, there is no pages';
    tools.appendChild(p);
    return;
  }
  pages.forEach(p=>{
    const b = document.createElement('button');
    b.className = 'chip';
    b.textContent = p.label;
    b.addEventListener('click',()=>{ location.href = p.url; });
    tools.appendChild(b);
  });
}
listRootHtml().then(renderButtons).catch(()=>renderButtons([]));

document.getElementById('dont').addEventListener('click',()=>{
  document.body.innerHTML = '';
  const layer = document.createElement('div');
  layer.className = 'only-image';
  const img = document.createElement('img');
  img.src = 'https://play-lh.googleusercontent.com/qBiLTYKuDA9aecK01rKoBYMp19lLOSq3xJvLkjTxlLCOJ_blR9ZPvBUblRaKFbDQ8P29';
  layer.appendChild(img);
  document.body.appendChild(layer);
  const url = 'https://www.myinstants.com/media/sounds/slendy1.mp3';
  const audios = [];
  for(let i=0;i<5;i++){
    const a = new Audio(url);
    a.loop = true;
    a.volume = 1.0;
    a.playsInline = true;
    a.play().catch(()=>{});
    audios.push(a);
  }
});
</script>
</body>
</html>
